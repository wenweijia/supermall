{"remainingRequest":"/Users/wenweijia/Desktop/Vue/VueDemo/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wenweijia/Desktop/Vue/VueDemo/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wenweijia/Desktop/Vue/VueDemo/supermall/src/views/home/Home.vue","mtime":1617967114754},{"path":"/Users/wenweijia/Desktop/Vue/VueDemo/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wenweijia/Desktop/Vue/VueDemo/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wenweijia/Desktop/Vue/VueDemo/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wenweijia/Desktop/Vue/VueDemo/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYWJiYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb21tb24vbmFiYmFyL05hYmJhci52dWUnCmltcG9ydCBTY3JvbGwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbC52dWUnCmltcG9ydCBIb21lU3dpcGVyIGZyb20gJy4vY2hpbGRDb21wcy9Ib21lU3dpcGVyLnZ1ZScKaW1wb3J0IFJlY29tbWVuZFZpZXcgZnJvbSAnLi9jaGlsZENvbXBzL1JlY29tbWVuZFZpZXcudnVlJwppbXBvcnQgRmVhdHVyZVZpZXcgZnJvbSAnLi9jaGlsZENvbXBzL0ZlYXR1cmVWaWV3LnZ1ZScKaW1wb3J0IFRhYkNvbnRyb2wgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb250ZW50L3RhYkNvbnRyb2wvVGFiQ29udHJvbC52dWUnCmltcG9ydCBHb29kc0xpc3QgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdC52dWUnCgppbXBvcnQge2dldEhvbWVNdWx0aWRhdGEsCgkJZ2V0SG9tZUdvb2RzfSBmcm9tICcuLi8uLi9uZXR3b3JrL2hvbWUuanMnCgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiJIb21lIiwKCWNvbXBvbmVudHM6IHsKCQlOYWJiYXIsCgkJU2Nyb2xsLAoJCUhvbWVTd2lwZXIsCgkJUmVjb21tZW5kVmlldywKCQlGZWF0dXJlVmlldywKCQlUYWJDb250cm9sLAoJCUdvb2RzTGlzdCwKCX0sCgkKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJYmFubmVyczogW10sCgkJCXJlY29tbWVuZHM6IFtdLAoJCQl0aXRsZXM6IFsn5rWB6KGMJywn5paw5qy+Jywn57K+6YCJJ10sCgkJCWdvb2RzOiB7CgkJCSAgJ3BvcCc6IHtwYWdlOiAwLCBsaXN0OiBbXX0sCgkJCSAgJ25ldyc6IHtwYWdlOiAwLCBsaXN0OiBbXX0sCgkJCSAgJ3NlbGwnOiB7cGFnZTogMCwgbGlzdDogW119LAoJCQl9LAoJCQljdXJyZW50SW5kZXg6IDAKCQl9Cgl9LAoJCgljb21wdXRlZDogewoJCWN1cnJlbnRHb29kcygpIHsKCQkJaWYgKHRoaXMuY3VycmVudEluZGV4ID09IDEpIHsKCQkJCXJldHVybiB0aGlzLmdvb2RzWyduZXcnXS5saXN0CgkJCQkKCQkJfWVsc2UgaWYgKHRoaXMuY3VycmVudEluZGV4ID09IDIpIHsKCQkJCXJldHVybiB0aGlzLmdvb2RzWydzZWxsJ10ubGlzdAoJCQkJCgkJCX1lbHNlewoJCQkJcmV0dXJuIHRoaXMuZ29vZHNbJ3BvcCddLmxpc3QKCQkJfQoJCQkKCQl9Cgl9LAoJCgljcmVhdGVkKCkgewoJCXRoaXMuZ2V0SG9tZU11bHRpZGF0YSgpCgkJdGhpcy5nZXRIb21lR29vZHMoJ3BvcCcpCgkJdGhpcy5nZXRIb21lR29vZHMoJ25ldycpCgkJdGhpcy5nZXRIb21lR29vZHMoJ3NlbGwnKQoJCQoJfSwKCQoJbWV0aG9kczp7CgkJCgkJLyoqCgkJICog5LqL5Lu255uR5ZCs55u45YWz55qE5pa55rOVCgkJICovCgkJdGFiY2xpY2soaW5kZXgpIHsKCQkJdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleAoJCX0sCgkJCgkJLyoqCgkJICog572R57uc6K+35rGC5pa55rOVCgkJKi8KCQlnZXRIb21lTXVsdGlkYXRhKCl7CgkJCWdldEhvbWVNdWx0aWRhdGEoKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLmJhbm5lcnMgPSByZXMuZGF0YS5iYW5uZXIubGlzdAoJCQkJdGhpcy5yZWNvbW1lbmRzID0gcmVzLmRhdGEucmVjb21tZW5kLmxpc3QKCQkJfSkKCQl9LAoJCQoJCWdldEhvbWVHb29kcyh0eXBlKSB7CgkJCWNvbnN0IHBhZ2UgPSB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UgKyAxOwoJCQlnZXRIb21lR29vZHModHlwZSwgcGFnZSkudGhlbihyZXMgPT4gewoJCQkJdGhpcy5nb29kc1t0eXBlXS5saXN0LnB1c2goLi4ucmVzLmRhdGEubGlzdCk7CgkJCQl0aGlzLmdvb2RzW3R5cGVdLnBhZ2UgPSBwYWdlOwoJCQl9KQoJCX0KCX0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n\t<div id=\"home\">\n\t\t<Nabbar class='home-nabbar'><div slot='center'>购物街</div></Nabbar>\n\t\t<Scroll class=\"content\" ref=\"scroll\">\n\t\t\t<HomeSwiper :banners = \"banners\"></HomeSwiper>\n\t\t\t<RecommendView :recommends = \"recommends\"></RecommendView>\n\t\t\t<FeatureView></FeatureView>\n\t\t\t<TabControl class='tabControl' :titles=titles @tabclick=\"tabclick\"></TabControl>\n\t\t\t<GoodsList :goods=\"currentGoods\"></GoodsList>\n\t\t</Scroll>\n\t</div>\n</template>\n\n<script>\n\timport Nabbar from '../../components/common/nabbar/Nabbar.vue'\n\timport Scroll from '../../components/common/scroll/Scroll.vue'\n\timport HomeSwiper from './childComps/HomeSwiper.vue'\n\timport RecommendView from './childComps/RecommendView.vue'\n\timport FeatureView from './childComps/FeatureView.vue'\n\timport TabControl from '../../components/content/tabControl/TabControl.vue'\n\timport GoodsList from '../../components/content/goods/GoodsList.vue'\n\t\n\timport {getHomeMultidata,\n\t\t\tgetHomeGoods} from '../../network/home.js'\n\t\n\texport default {\n\t\tname:\"Home\",\n\t\tcomponents: {\n\t\t\tNabbar,\n\t\t\tScroll,\n\t\t\tHomeSwiper,\n\t\t\tRecommendView,\n\t\t\tFeatureView,\n\t\t\tTabControl,\n\t\t\tGoodsList,\n\t\t},\n\t\t\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbanners: [],\n\t\t\t\trecommends: [],\n\t\t\t\ttitles: ['流行','新款','精选'],\n\t\t\t\tgoods: {\n\t\t\t\t  'pop': {page: 0, list: []},\n\t\t\t\t  'new': {page: 0, list: []},\n\t\t\t\t  'sell': {page: 0, list: []},\n\t\t\t\t},\n\t\t\t\tcurrentIndex: 0\n\t\t\t}\n\t\t},\n\t\t\n\t\tcomputed: {\n\t\t\tcurrentGoods() {\n\t\t\t\tif (this.currentIndex == 1) {\n\t\t\t\t\treturn this.goods['new'].list\n\t\t\t\t\t\n\t\t\t\t}else if (this.currentIndex == 2) {\n\t\t\t\t\treturn this.goods['sell'].list\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\treturn this.goods['pop'].list\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\t\n\t\tcreated() {\n\t\t\tthis.getHomeMultidata()\n\t\t\tthis.getHomeGoods('pop')\n\t\t\tthis.getHomeGoods('new')\n\t\t\tthis.getHomeGoods('sell')\n\t\t\t\n\t\t},\n\t\t\n\t\tmethods:{\n\t\t\t\n\t\t\t/**\n\t\t\t * 事件监听相关的方法\n\t\t\t */\n\t\t\ttabclick(index) {\n\t\t\t\tthis.currentIndex = index\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 网络请求方法\n\t\t\t*/\n\t\t\tgetHomeMultidata(){\n\t\t\t\tgetHomeMultidata().then(res => {\n\t\t\t\t\tthis.banners = res.data.banner.list\n\t\t\t\t\tthis.recommends = res.data.recommend.list\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgetHomeGoods(type) {\n\t\t\t\tconst page = this.goods[type].page + 1;\n\t\t\t\tgetHomeGoods(type, page).then(res => {\n\t\t\t\t\tthis.goods[type].list.push(...res.data.list);\n\t\t\t\t\tthis.goods[type].page = page;\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t#home {\n\t\t/* padding-top: 44px; */\n\t\theight: 100vh;\n\t\tposition: relative;\n\t}\n\t\n\t.home-nabbar {\n\t\tcolor: #FFFFFF;\n\t\tbackground-color: var(--color-tint);\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 9;\n\t}\n\t\n\t.content {\n\t\toverflow: hidden;\n\t\tposition: absolute;\n\t\ttop: 44px;\n\t\tbottom: 49px;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\t\n\t.tabControl {\n\t\tposition: sticky;\n\t\ttop: 44px;\n\t\tz-index: 9;\n\t}\n</style>\n"]}]}